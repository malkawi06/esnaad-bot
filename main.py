from keep_alive import keep_alive
keep_alive()

import nest_asyncio
import asyncio
from telegram import Update, ReplyKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, ContextTypes, filters

nest_asyncio.apply()

# โ ุชููู ุจูุช ุชููุฌุฑุงู
TELEGRAM_BOT_TOKEN = "8026460134:AAHSLfvQQ727Kudh9_6dJtUgdsBppPtGQeY"

# โ ุงูุฃุณุฆูุฉ ูุงูุฑุฏูุฏ ุงูุฌุงูุฒุฉ
faq = {
    "ูู ูู ูุฑูู ุฅุณูุงุฏุ": """
๐ฅ ูุฑูู ุดุจุงุจู ุชุทูุนู ุฌุงูุนู ูุณุชููุ ูุถู ุทูุงุจูุง ูู ูุฎุชูู ุงูุฌุงูุนุงุช ุงูุฃุฑุฏููุฉุ ูุนูู ุนูู ุชูููู ุงูุทูุจุฉ ูู ุฎูุงู ูุจุงุฏุฑุงุช ููุนุงููุงุช ุซูุงููุฉุ ุชุนููููุฉุ ูุชุทูุนูุฉุ ุจุฑูุญ ุฌูุงุนูุฉ ูุดุบู ุจุงูุชุบููุฑ ุงูุฅูุฌุงุจู.
""",
    "ูุง ุฃูุฏุงู ุฅุณูุงุฏุ": """
๐ฏ ุฃูุฏุงู ูุฑูู ุฅุณูุงุฏ:

โ ุชูููู ุงูุดุจุงุจ ุงูุฌุงูุนู ูุชุนุฒูุฒ ุฏูุฑูู ุงููุฌุชูุนู  
๐ ุชูุธูู ูุนุงููุงุช ููุจุงุฏุฑุงุช ุชุนููููุฉ ูุซูุงููุฉ ูุชูููููุฌูุฉ  
๐ก ุชูููุฉ ุงูููุงุฑุงุช ุงูููุงุฏูุฉ ูุงูุนูู ุงูุฌูุงุนู  
๐ค ุชุนุฒูุฒ ุงูููู ุงูุฅูุณุงููุฉ ูุฑูุญ ุงูุชุทูุน  
๐ ุจูุงุก ุดุจูุฉ ุทูุงุจูุฉ ูุงุนูุฉ ุฏุงุฎู ูุฎุงุฑุฌ ุงูุฌุงูุนุฉ  
""",
    "ูุง ุฑุคูุฉ ุฅุณูุงุฏุ": """
๐ญ ุฃู ูููู ููุตุฉ ุทูุงุจูุฉ ุฑุงุฆุฏุฉุ ุชูุฎุฑูุฌ ุฌูููุง ูุงุนููุง ููุนูุงููุงุ ูุงุฏุฑูุง ุนูู ุฅุญุฏุงุซ ุฃุซุฑ ูู ูุฌุชูุนู ูู ุฎูุงู ุงูููุฑุ ุงูููุงุฑุฉุ ูุงููุณุคูููุฉ.
""",
    "ููู ุฃูุถู ุฅูู ุฅุณูุงุฏุ": """
๐โโ๏ธ ุจุจุณุงุทุฉุ ุนุจูุฆ ูููุฐุฌ ุงูุชุทูุน ุนุจุฑ ุงูุฑุงุจุท ุงูุชุงูู:
๐ https://docs.google.com/forms/d/e/1FAIpQLSdtvLb8V83I55Ih7WGo90OYsxmowfqLtvzMoucaJIHiDOurhQ/viewform
""",
    "ูุง ูู ุฑุงุจุท ุงููุฌุชูุนุ": """
๐ฒ ุงูุถู ุงูุขู ููุฌุชูุน ุฅุณูุงุฏ ุนูู ูุงุชุณุงุจ ๐
https://chat.whatsapp.com/E16b4cKa2sx4OcO4CJg2xX?mode=r_t
""",
    "ูู ุงููุงุฆููู ุนูู ุฅุณูุงุฏุ": """
๐จโ๐ผ ูููุฏ ุงููุฑูู ูุฌููุนุฉ ูู ุงูุทูุจุฉ ุงููุชุทูุนูู ูู ูุฎุชูู ุงููููุงุชุ ุจุฅุดุฑุงู ููุณููู ุฃููุงุกุ ููุชู ุชูุธูู ุงูุนูู ุนุจุฑ ูุฌุงู:
๐ง ูุฌูุฉ ุงูุชุฎุทูุท  
๐จ ูุฌูุฉ ุงูุชุตููู  
๐ข ูุฌูุฉ ุงูุฅุนูุงู  
๐ค ูุฌูุฉ ุงูุชูููููุฌูุง  
๐ค ูุฌูุฉ ุงูุฃูุดุทุฉ ูุงูุนูุงูุงุช  
""",
    "ูุง ูู ูููุน ุฅุณูุงุฏุ": """
๐ ูููุน ูุฑูู ุฅุณูุงุฏ ุงูุฅููุชุฑููู:
https://esnaadteam.github.io/esnaad/
""",
    "ุชูุงุตู ูุน ุงููุฑูู": """
๐ฑ ูุงุชุณุงุจ: 0770495848  
๐ง ุงูุฅูููู: esnaadteamjo@gmail.com  
๐ธ ุฅูุณุชุบุฑุงู: @esnaad__team  
"""
}

# โ ุฒุฑ ูููู
keyboard = [[key] for key in faq.keys()]
reply_markup = ReplyKeyboardMarkup(keyboard, resize_keyboard=True)

# โ ุฑุฏ ุชููุงุฆู ุนูู ุงูุฑุณุงุฆู
async def handle_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    question = update.message.text
    answer = faq.get(question, "โ ุงูุณุคุงู ุบูุฑ ููุฌูุฏุ ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ๐")
    await update.message.reply_text(answer, reply_markup=reply_markup)

# โ ุฑุณุงูุฉ ุงูุจุฏุก
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("๐ ุฃูููุง ุจู ูู ุจูุช ูุฑูู ุฅุณูุงุฏ. ุงุฎุชุฑ ุณุคุงู ูู ุงููุงุฆูุฉ ๐", reply_markup=reply_markup)

# โ ุชุดุบูู ุงูุจูุช
async def main():
    app = ApplicationBuilder().token(TELEGRAM_BOT_TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, handle_message))
    print("โ ุงูุจูุช ุดุบุงู! ุฌุฑุจู ูู ุชููุฌุฑุงู ุงูุขู.")
    await app.run_polling()

# โ ุงุจุฏุฃ ุงูุชูููุฐ
asyncio.get_event_loop().run_until_complete(main())
